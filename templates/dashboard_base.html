<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SecureAlgo - Your premier algorithmic trading platform">
    
    <!-- Page Title -->
    <title>{% block title %}SecureAlgo Dashboard{% endblock %}</title>

    <!-- Tailwind CSS, DaisyUI and Custom Font -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@3.9.0/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Socket.IO Client Library -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    
    <!-- Custom Styles for Flash Messages -->
    <style>
        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        .animate-slide-in {
            animation: slide-in 0.3s ease-out;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: '#ff6b35',
                        accent: '#ff9500',
                        dark: '#000000',
                    }
                }
            },
            daisyui: {
                themes: ["dark"],
            },
        }
    </script>
    
    {% block head %}{% endblock %}
</head>

<body class="min-h-screen bg-black text-gray-100 font-sans">
    <div class="flex h-screen">
        <!-- Sidebar Navigation -->
        <div class="w-64 bg-black border-r border-gray-800 flex flex-col">
            <!-- Logo -->
            <div class="p-6 border-b border-gray-800">
                <h1 class="text-xl font-semibold" style="color: #ff6b35;">SecureAlgo</h1>
            </div>
            
            <!-- Navigation Links -->
            <nav class="flex-1 p-4 space-y-2">
                <a href="{{ url_for('dashboard_bp.dashboard') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'dashboard_bp.dashboard' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'dashboard_bp.dashboard' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"></path>
                    </svg>
                    Dashboard
                </a>
                
                <a href="{{ url_for('search_bp.token') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'search_bp.token' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'search_bp.token' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                    </svg>
                    Search
                </a>
                
                <a href="{{ url_for('orders_bp.orderbook') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'orders_bp.orderbook' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'orders_bp.orderbook' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                        <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path>
                    </svg>
                    Orderbook
                </a>
                
                <a href="{{ url_for('orders_bp.tradebook') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'orders_bp.tradebook' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'orders_bp.tradebook' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 0a1 1 0 100 2h.01a1 1 0 100-2H9zm2 0a1 1 0 100 2h.01a1 1 0 100-2H11z" clip-rule="evenodd"></path>
                    </svg>
                    Tradebook
                </a>
                
                <a href="{{ url_for('orders_bp.positions') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'orders_bp.positions' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'orders_bp.positions' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    Positions
                </a>
                
                <a href="{{ url_for('orders_bp.holdings') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'orders_bp.holdings' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'orders_bp.holdings' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"></path>
                        <path fill-rule="evenodd" d="M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                    </svg>
                    Holdings
                </a>
                
                <a href="{{ url_for('tv_json_bp.tradingview_json') }}" class="flex items-center px-4 py-3 text-gray-300 hover:bg-gray-900 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'tv_json_bp.tradingview_json' %}bg-gray-900 border border-gray-700{% endif %}" {% if request.endpoint == 'tv_json_bp.tradingview_json' %}style="color: #ff6b35;"{% else %}onmouseover="this.style.color='#ff6b35'" onmouseout="this.style.color=''"{% endif %}>
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z" clip-rule="evenodd"></path>
                    </svg>
                    Tradingview
                </a>
                
                <!-- More Section -->
                <div class="pt-4 border-t border-gray-700">
                    <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">More</p>
                    
                    <a href="{{ url_for('api_key_bp.manage_api_key') }}" class="flex items-center px-4 py-3 text-gray-300 hover:text-blue-400 hover:bg-gray-700 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'api_key_bp.manage_api_key' %}text-blue-400 bg-blue-900/30 border border-blue-500/30{% endif %}">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z" clip-rule="evenodd"></path>
                        </svg>
                        API Key
                    </a>
                    
                    <a href="{{ url_for('log_bp.view_logs') }}" class="flex items-center px-4 py-3 text-gray-300 hover:text-blue-400 hover:bg-gray-700 rounded-lg font-medium transition-all duration-200 {% if request.endpoint == 'log_bp.view_logs' %}text-blue-400 bg-blue-900/30 border border-blue-500/30{% endif %}">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        Logs
                    </a>
                    

                    
                    <a href="{{ url_for('auth.logout') }}" class="flex items-center px-4 py-3 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg font-medium transition-all duration-200 mt-2">
                        <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"></path>
                        </svg>
                        Logout
                    </a>
                </div>
            </nav>
        </div>
        
        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Top Header -->
            <header class="bg-black border-b border-gray-800 px-6 py-4">
                <h1 class="text-2xl font-semibold" style="color: #ff6b35;">{% block page_title %}SecureAlgo Dashboard{% endblock %}</h1>
            </header>
            
            <!-- Page Content -->
            <main class="flex-1 overflow-y-auto p-6 bg-black">
                {% block content %}{% endblock %}
            </main>
        </div>
    </div>
    
    <!-- Socket.IO Event Handlers -->
    <script src="{{ url_for('static', filename='js/socket-events.js') }}"></script>
</body>
</html>